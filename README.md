# HUST-Chifan

我要吃东西我要吃东西我要吃东西！

## 用途

1. 查询给定食堂什么时候开饭，还有多久开饭
2. 查询当前哪个食堂还能吃饭，还能吃多久饭

## 安装方式

访问 [项目仓库][repo] ，下载其中的 `chifan.pl`。接着，命令行运行 `perl chifan.pl` 即可。也可以给 `chifan.pl` 加上可执行权限，直接运行 `./chifan.pl`。

[repo]: https://github.com/jyi2ya/HUST-Chifan

## 使用说明

```plain
chifan.pl                           -- 查询当前还有哪些食堂能吃饭
chifan.pl 还有什么吃的              -- 查询当前还有哪些食堂能吃饭
chifan.pl <REGEX>                   -- 查询名字匹配 <REGEX> 的食堂什么时候开饭
chifan.pl 什么时候开饭 <REGEX>      -- 查询名字匹配 <REGEX> 的食堂什么时候开饭
chifan.pl -h                        -- 打印帮助手册
```

## 例子

```plain
$ perl chifan.pl
坏了，今天没有吃的了
```

```plain
$ perl chifan.pl 还有什么吃的
学二食堂      还可以吃1小时35分钟
百惠园食堂    还可以吃1小时55分钟
东教工        还可以吃2小时5分钟
韵苑食堂二楼  还可以吃2小时5分钟
东一食堂一楼  还可以吃2小时5分钟
东一食堂二楼  还可以吃2小时5分钟
东三清真食堂  还可以吃2小时5分钟
喻园          还可以吃2小时5分钟
西一一楼      还可以吃2小时5分钟
韵苑食堂一楼  还可以吃2小时35分钟
东园食堂一楼  还可以吃3小时5分钟
清真餐厅      还可以吃3小时5分钟
枫林湾        还可以吃3小时35分钟
氧气层        还可以吃10小时5分钟
东篱餐厅      还可以吃10小时35分钟
百品屋小吃城  还可以吃10小时35分钟
西华园        还可以吃12小时5分钟
```

```plain
$ perl chifan.pl 什么时候开饭
东教工          已开饭         还可以吃2小时5分钟
学一食堂        还有5分钟开饭
学二食堂        已开饭         还可以吃1小时35分钟
韵苑食堂一楼    已开饭         还可以吃2小时35分钟
韵苑食堂二楼    已开饭         还可以吃2小时5分钟
东园食堂一楼    已开饭         还可以吃3小时5分钟
东园食堂二楼    还有5分钟开饭
东园食堂三楼    还有5分钟开饭
东篱餐厅        已开饭         还可以吃10小时35分钟
清真餐厅        已开饭         还可以吃3小时5分钟
东一食堂一楼    已开饭         还可以吃2小时5分钟
东一食堂二楼    已开饭         还可以吃2小时5分钟
紫荆园          还有5分钟开饭
东三清真食堂    已开饭         还可以吃2小时5分钟
集锦园          还有5分钟开饭
喻园            已开饭         还可以吃2小时5分钟
集贤楼一楼      还有5分钟开饭
集贤楼二楼      还有5分钟开饭
百惠园食堂      已开饭         还可以吃1小时55分钟
枫林湾          已开饭         还可以吃3小时35分钟
百品屋小吃城    已开饭         还可以吃10小时35分钟
西华园          已开饭         还可以吃12小时5分钟
西一一楼        已开饭         还可以吃2小时5分钟
西一二楼        还有5分钟开饭
西一清真        还有5分钟开饭
氧气层          已开饭         还可以吃10小时5分钟
百景园一楼      还有5分钟开饭
百景园二楼      还有5分钟开饭
百景园三楼雅厅  还有5分钟开饭
```

```plain
$ perl chifan.pl 什么时候开饭 东一
东一食堂一楼  已开饭  还可以吃2小时5分钟
东一食堂二楼  已开饭  还可以吃2小时5分钟
```

## 背景

有人总是会因为各种莫名其妙的原因忘记吃饭……也许他根本不清楚饭点是什么时候。

每次当他想起吃饭的时候，又不知道食堂是否还在服务。所以他又必须对着营业时间的表格一个一个排查，找到仍然有饭吃的地方。

他觉得这样烦透了。“为什么不让电脑来帮自己找找，还有哪些地方可以吃饭呢？” 抱着这种奇怪的想法，他写了一个小小的程序。

## 联动

[vaaandark][van] 的 [wco][wco] 项目可以给出华科的下课和上课时间，而本项目可以给出华科食堂开饭的时间。

如果你能合理地结合这两个工具，便可以精确地卡在食堂开饭后、学校下课前去食堂把饭吃完，从而免受排队之苦。

或者是卡在上课前的十几分钟出发，查出一个仍在营业的食堂，完成上课同时顺路吃饭的操作。

[van]: https://github.com/vaaandark
[wco]: https://github.com/vaaandark/wco

## 更方便的使用

发挥一下人类的小小智能与想象力。反正这个东西只用了标准输入输出，可以把它缝到任何一个地方。

比如 QQ Bot：

![scrshot](./docs/qqbot.png)
